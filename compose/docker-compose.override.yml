services:
  claude-code:
    stdin_open: true
    tty: true
    build:
        context: ./claude-code
        dockerfile: Dockerfile
    volumes:
      - ../.:/project
      - ./claude-code/claude-config:/claude
      - ./claude-code/entrypoint.sh:/bin/entrypoint.sh:ro
    environment:
      CLAUDE_CONFIG_DIR: /claude
    profiles:
      - tools
    working_dir: /project
    entrypoint: /bin/entrypoint.sh
    command: claude